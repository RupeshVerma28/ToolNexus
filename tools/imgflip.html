<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Image Flipper</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../style.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head><body>
<nav class="navbar tool-nav"><div class="container">
  <a class="tool-back" href="../index.html">&larr; Back</a>
</div></nav>
<main class="container my-4">
  <div class="card p-4 tool-card">
    <h3 class="mb-1">Image Flipper</h3>
    <p class="text-muted small">Client-side tool.</p>
    
<input type="file" id="imageInput" class="form-control my-3" accept="image/*">
<div class="btn-group">
  <button id="flipH" class="btn btn-outline-primary">Flip Horizontal</button>
  <button id="flipV" class="btn btn-outline-primary">Flip Vertical</button>
</div>
<canvas id="canvas" class="mt-3" style="max-width:100%"></canvas>
<button id="download" class="btn btn-primary mt-3">Download</button>

  </div>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
let loaded=false;
let img=new Image();
document.getElementById('imageInput').addEventListener('change', (e)=>{
  const f=e.target.files[0]; if(!f) return;
  const fr=new FileReader(); fr.onload=()=>{ img.onload=()=>{ const c=document.getElementById('canvas'); c.width=img.width; c.height=img.height; const ctx=c.getContext('2d'); ctx.drawImage(img,0,0); loaded=true; }; img.src=fr.result; }; fr.readAsDataURL(f);
});
function flip(horizontal){
  if(!loaded) return alert('Load an image first');
  const c=document.getElementById('canvas'); const ctx=c.getContext('2d'); ctx.save();
  ctx.clearRect(0,0,c.width,c.height);
  if(horizontal){ ctx.translate(c.width,0); ctx.scale(-1,1);} else { ctx.translate(0,c.height); ctx.scale(1,-1); }
  ctx.drawImage(img,0,0); ctx.restore();
}
document.getElementById('flipH').addEventListener('click',()=>flip(true));
document.getElementById('flipV').addEventListener('click',()=>flip(false));
document.getElementById('download').addEventListener('click',()=>{
  if(!loaded) return;
  const a=document.createElement('a'); a.href=document.getElementById('canvas').toDataURL('image/png'); a.download='flipped.png'; a.click();
});
</script>

</body></html>